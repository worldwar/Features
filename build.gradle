apply plugin: 'idea'
apply plugin: 'java'

repositories{
	mavenCentral();
}

dependencies{
	compile 'com.google.guava:guava:15.0'
    compile 'org.apache.activemq:activemq-broker:5.10.0'
	testCompile 'junit:junit:4.11'
}

task(server, dependsOn: 'classes', type: JavaExec) {
    jvmArgs = ['-Djava.rmi.server.codebase=http://127.0.0.1:4444']
    main = 'cc.zhuran.rmi.server.Main'
    classpath = sourceSets.main.runtimeClasspath
}

task(client, dependsOn: 'classes', type: JavaExec) {
    main = 'cc.zhuran.rmi.client.Main'
    classpath = sourceSets.main.runtimeClasspath
}